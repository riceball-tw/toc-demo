import './style.css'

document.querySelector<HTMLDivElement>('#app')!.innerHTML = `
  <main class="container">
  <div>
    <h1 class="title">TOC DEMO</h1>
    <div class="content">
      <section data-toc-section class="section">
        <h2 class="subtitle">Title xxx</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accumsan vitae turpis. Donec molestie congue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat.</p>
      </section>
          <section data-toc-section class="section">
        <h2 class="subtitle">Title xx</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accumsan vitae turpis. Donec molestie congue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat.</p>
      </section>
      <section data-toc-section class="section">
        <h2 class="subtitle">Title x</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accumsan vitae turpis. Donec molestie congue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat.</p>
      </section>

      <section style="background-color: red;" data-toc-section class="section">
        <h2 class="subtitle">Title One</h2>
        <p>tus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accumsan vitae turpis. Donec molestie congue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accumsan vitae turpis. Donec molestie congue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accumsan vitae turpis. Donec molestie congue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accumsan vitae turpis. Donec molestie congue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accume massa. Quisque dictum purus porta quam bibendumricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accumsan vitae turpis. Donec molestie congue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accumsan vitae turpis. Donec molestie congue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accume massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accumsan vitae turpis. Donec molestie congue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accume massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accumsan vitae turpis. Donec molestie congue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultriciesricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accumsan vitae turpis. Donec molestie congue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accumsan vitae turpis. Donec molestie congue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accume massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accumsan vitae turpis. Donec molestie congue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accume massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accumsan vitae turpis. Donec molestie congue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultriciesricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accumsan vitae turpis. Donec molestie congue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accumsan vitae turpis. Donec molestie congue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accume massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accumsan vitae turpis. Donec molestie congue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accume massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accumsan vitae turpis. Donec molestie congue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultriciesricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accumsan vitae turpis. Donec molestie congue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accumsan vitae turpis. Donec molestie congue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accume massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accumsan vitae turpis. Donec molestie congue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accume massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accumsan vitae turpis. Donec molestie congue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultriciesricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accumsan vitae turpis. Donec molestie congue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nislm bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accumsan vitae turpis. Donec molestie congue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultriciesricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accumsan vitae turpis. Donec molestie congue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accumsan vitae turpis. Donec molestie congue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accume massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accumsan vitae turpis. Donec molestie congue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accume massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accumsan vitae turpis. Donec molestie congue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accumsan vitae turpis. Donec molestie congue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accume massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accumsan vitae turpis. Donec molestie congue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accumlla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accumsan vitae turpis. Donec molestie congue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accumsan vitae turpis. Donec molestie congue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat.</p>
      </section>
      <section data-toc-section class="section">
        <h2 class="subtitle">Title Two</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accumsan vitae turpis. Donec molestie congue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat.</p>
      </section>
      <section data-toc-section class="section">
        <h2 class="subtitle">Title Three</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accumsan vitae turpis. Donec molestie congue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat.</p>
      </section>
      <section data-toc-section class="section">
        <h2 class="subtitle">Title Four</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accumsan vitae turpis. Donec molestie congue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat.</p>
      </section>
      <section data-toc-section class="section">
        <h2 class="subtitle">Title Five</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt nisl et ipsum faucibus pretium. Cras mi dui, lobortis eu iaculis ultrices, accumsan vitae turpis. Donec molestie congue massa. Quisque dictum purus porta quam bibendum ultricies. Sed venenatis risus sit amet leo ultricies fermentum. In rutrum tellus vitae imperdiet imperdiet. Nulla facilisi. Nulla lacus lectus, malesuada eget enim at, luctus pretium nisl. Cras cursus mi in justo aliquet, non lacinia justo molestie. Morbi fermentum mauris sit amet leo porttitor bibendum. Nulla eget hendrerit tortor, eget faucibus erat. Aliquam et dignissim purus. Duis eros massa, posuere sit amet tempus ut, finibus sed nunc. Curabitur sed turpis luctus, congue enim eget, interdum purus. Aliquam erat volutpat.</p>
      </section>
    </div>
  </div>
  <aside class="sidebar">
    <ul class="toc" data-toc>
    </ul>
  </aside>
</main>
`

const tocElement = document.querySelector<HTMLUListElement>("[data-toc]");
const targetSectionElements = document.querySelectorAll<HTMLElement>("[data-toc-section]");
let activeTocs: {
  id: string;
  ratio: number;
}[] = []

function generateToc(tocElement: HTMLUListElement, sectionElements: NodeListOf<HTMLElement>) {
  sectionElements.forEach(function (section, index) {
    // 替每個區塊添加對應 id
    const sectionId = "toc" + (index + 1);
    section.setAttribute("id", sectionId);

    // 創建「目錄連結元素」根據現有區塊
    const tocLink = document.createElement("a");
    tocLink.setAttribute("href", "#" + sectionId);
    tocLink.setAttribute("data-id", sectionId);
    const sectionTitle = section.querySelector("h2");
    if (sectionTitle) {
      tocLink.textContent = sectionTitle.textContent;
    }

    // 創建「目錄項目元素」
    const tocItem = document.createElement("li");
    tocItem.appendChild(tocLink);

    // 注入「目錄元素」到 「toc 元素」
    tocElement.appendChild(tocItem);
  });
}

function initIntersectionObserverForToc(sectionElements: NodeListOf<HTMLElement>) {
  sectionElements.forEach((section) => {
    new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          const targetSectionId = entry.target.getAttribute("id");
          if (!targetSectionId) return;
          const isSectionVisible = entry.isIntersecting;
          if (isSectionVisible) {
            // 更新每個區塊的可見度佔比到 activeTocIds
            updateActiveTocWithRatio(targetSectionId, entry.intersectionRatio);
          } else {
            // 當區塊離開視窗時移除該區塊
            const targetSectionIdIndex = activeTocs.findIndex(toc => toc.id === targetSectionId);
            if (targetSectionIdIndex !== -1) {
              activeTocs.splice(targetSectionIdIndex, 1);
            }
          }
        });
      },
      {
        threshold: [0, 0.1, 0.3, 0.5, 0.7, 0.9, 1] // 設定 0% 到 100% 的 threshold
      }
    ).observe(section);
  });
}

function updateActiveTocWithRatio(sectionId: string, ratio: number) {
  const existingItemIndex = activeTocs.findIndex(
    (item) => item.id === sectionId
  );
  // 1. 已存在區塊紀錄 = 更新該區塊的佔比
  // 2. 不存在區塊紀錄 = 新增該區塊紀錄
  if (existingItemIndex === -1) {
    activeTocs.push({ id: sectionId, ratio });
  } else {
    activeTocs[existingItemIndex].ratio = ratio;
  }
  // 將佔比最高的區塊放到最前面
  activeTocs.sort((a, b) => b.ratio - a.ratio);
  updateActiveTocItem();
}

function updateActiveTocItem() {
  // 先將所有的 toc 項目移除 active 狀態
  document.querySelectorAll("[data-toc] a").forEach((tocItem) => {
    tocItem.classList.remove("active");
  });

  // 只將 activeTocIds 中佔比最高的項目設為 active
  if (activeTocs.length > 0) {
    const firstActiveId = activeTocs[0].id;
    document.querySelectorAll("[data-toc] a").forEach((tocItem) => {
      if (tocItem.getAttribute("href") === `#${firstActiveId}`) {
        tocItem.classList.add("active");
      }
    });
  }
}

if (tocElement) {
  generateToc(tocElement, targetSectionElements);
  initIntersectionObserverForToc(targetSectionElements);
}